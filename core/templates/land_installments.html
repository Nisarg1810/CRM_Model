{% extends 'base.html' %}
{% load static %}

{% csrf_token %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/admin_assigned_task.css' %}">
<style>
  .table-responsive {
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0,0,0,0.1);
  }
  
  .table {
    margin-bottom: 0;
  }
  
  .table thead th {
    border-top: none;
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.85rem;
    letter-spacing: 0.5px;
  }
  
  .table tbody tr:hover {
    background-color: rgba(0,123,255,0.05);
  }
  
  .table-danger {
    background-color: rgba(220,53,69,0.1) !important;
  }
  
  .table-danger:hover {
    background-color: rgba(220,53,69,0.15) !important;
  }
  
  .badge {
    font-size: 0.75rem;
    padding: 0.35em 0.65em;
  }
  
  .btn-group-sm .btn {
    padding: 0.25rem 0.5rem;
    font-size: 0.875rem;
  }
  
  .text-truncate {
    max-width: 150px;
    display: inline-block;
    vertical-align: top;
  }
  
  /* Filter Bar Styling */
  .card-header.bg-primary {
    background: linear-gradient(135deg, #007bff 0%, #0056b3 100%) !important;
  }
  
  .form-label.fw-bold {
    color: #495057;
    font-size: 0.9rem;
  }
  
  .form-select-sm, .form-control {
    border-radius: 6px;
    border: 1px solid #ced4da;
  }
  
  .form-select-sm:focus, .form-control:focus {
    border-color: #007bff;
    box-shadow: 0 0 0 0.2rem rgba(0, 123, 255, 0.25);
  }
  
  .input-group-text {
    background-color: #f8f9fa;
    border-color: #ced4da;
    color: #6c757d;
  }
  
  .btn-sm {
    border-radius: 6px;
    font-weight: 500;
  }
  
  .hr {
    border-color: #e9ecef;
    opacity: 0.7;
  }
  
  /* Real-time search styling */
  .loading-indicator {
    background: rgba(255, 255, 255, 0.9);
    border-radius: 8px;
    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
    margin: 1rem 0;
  }
  
  .input-group {
    position: relative;
  }
  
  /* Table header styling */
  .table thead th a {
    color: #495057;
    text-decoration: none;
    font-weight: 600;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }
  
  .table thead th a:hover {
    color: #007bff;
    text-decoration: none;
  }
  
  .table thead th a .bi {
    font-size: 0.8rem;
    opacity: 0.8;
  }
  
  .table thead th a:hover .bi {
    opacity: 1;
  }
  
  /* Ensure table headers are visible */
  .table-primary {
    background-color: #cfe2ff !important;
  }
  
  .table-primary th {
    background-color: #cfe2ff !important;
    color: #000 !important;
    border-color: #9ec5fe !important;
  }
  
  /* Animation for search results */
  .table tbody tr {
    transition: all 0.3s ease;
  }
  
  .table tbody tr:hover {
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
  }
  
  /* Custom Action Button Styling */
  .btn-group .btn {
    border-radius: 4px !important;
    margin-right: 2px;
    font-weight: 500;
    transition: all 0.2s ease;
  }
  
  .btn-group .btn:hover {
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.2);
  }
  
  .btn-info {
    background-color: #17a2b8 !important;
    border-color: #17a2b8 !important;
  }
  
  .btn-info:hover {
    background-color: #138496 !important;
    border-color: #117a8b !important;
  }
  
  .btn-success {
    background-color: #28a745 !important;
    border-color: #28a745 !important;
  }
  
  .btn-success:hover {
    background-color: #218838 !important;
    border-color: #218838 !important;
  }
  
  .btn-danger {
    background-color: #dc3545 !important;
    border-color: #dc3545 !important;
  }
  
  .btn-danger:hover {
    background-color: #c82333 !important;
    border-color: #bd2130 !important;
  }
  
  /* Yellow Reminder Button */
  .btn-reminder {
    background-color: #ffc107;
    border-color: #ffc107;
    color: #212529;
  }
  
  .btn-reminder:hover {
    background-color: #e0a800;
    border-color: #d39e00;
    color: #212529;
    transform: translateY(-1px);
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
  
  @media (max-width: 768px) {
    .table-responsive {
      font-size: 0.9rem;
    }
    
    .btn-group-sm .btn {
      padding: 0.2rem 0.4rem;
      font-size: 0.8rem;
    }
    
    .card-body {
      padding: 1rem;
    }
    
    .col-lg-3 {
      margin-bottom: 1rem;
    }
  }
</style>
{% endblock %}

{% block content %}
<div class="tasks-container">
    <div class="tasks-header">
        <h1><i class="bi bi-credit-card me-2"></i>Land Installments</h1>
        <p>Manage and monitor land installment payments</p>
    </div>

    <!-- Filters and Search Section -->
    <div class="card mb-4 border-0 shadow-sm">
        <div class="card-header bg-primary text-white">
            <h6 class="mb-0">
                <i class="bi bi-funnel me-2"></i>
                Filter & Search Installments
            </h6>
        </div>
        <div class="card-body">
            <div class="row g-4 align-items-end">
                <div class="col-lg-2 col-md-6">
                    <label for="landFilter" class="form-label fw-bold text-primary mb-2">
                        <i class="bi bi-geo-alt me-1"></i>Land
                    </label>
                    <select class="form-select form-select-sm border-primary" id="landFilter">
                        <option value="">All Lands</option>
                        {% for land_sale in land_sales %}
                            <option value="{{ land_sale.land.id }}">{{ land_sale.land.name }}</option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="col-lg-2 col-md-6">
                    <label for="statusFilter" class="form-label fw-bold text-primary mb-2">
                        <i class="bi bi-flag me-1"></i>Status
                    </label>
                    <select class="form-select form-select-sm border-primary" id="statusFilter">
                        <option value="">All Status</option>
                        <option value="pending">Pending</option>
                        <option value="paid">Paid</option>
                        <option value="overdue">Overdue</option>
                    </select>
                </div>
                
                <div class="col-lg-2 col-md-6">
                    <label for="clientFilter" class="form-label fw-bold text-primary mb-2">
                        <i class="bi bi-person me-1"></i>Client
                    </label>
                    <select class="form-select form-select-sm border-primary" id="clientFilter">
                        <option value="">All Clients</option>
                        {% for client in all_clients %}
                            <option value="{{ client.id }}">{{ client.client_name }}</option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="col-lg-2 col-md-6">
                    <label for="employeeFilter" class="form-label fw-bold text-primary mb-2">
                        <i class="bi bi-people me-1"></i>Employee
                    </label>
                    <select class="form-select form-select-sm border-primary" id="employeeFilter">
                        <option value="">All Employees</option>
                        {% for employee in marketing_employees %}
                            <option value="{{ employee.id }}">{{ employee.full_name }}</option>
                        {% endfor %}
                    </select>
                </div>
                
                <div class="col-lg-2 col-md-6">
                    <label for="searchInput" class="form-label fw-bold text-primary mb-2">
                        <i class="bi bi-search me-1"></i>Search
                    </label>
                    <div class="input-group input-group-sm">
                        <span class="input-group-text bg-primary text-white border-primary">
                            <i class="bi bi-search"></i>
                        </span>
                        <input type="text" class="form-control border-primary" id="searchInput" placeholder="Search installments...">
                    </div>
                </div>
                
                <div class="col-lg-2 col-md-6">
                    <label class="form-label fw-bold text-primary mb-2">
                        <i class="bi bi-arrow-clockwise me-1"></i>Actions
                    </label>
                    <div class="d-flex gap-2">
                        <button class="btn btn-primary btn-sm shadow-sm" id="applyFilters">
                            <i class="bi bi-funnel me-1"></i> Apply
                        </button>
                        <button class="btn btn-secondary btn-sm shadow-sm" id="clearFilters">
                            <i class="bi bi-x-circle me-1"></i> Clear
                        </button>
                    </div>
                </div>
                
                <div class="col-12">
                    <hr class="my-4 border-primary opacity-25">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="text-primary fw-semibold">
                            <i class="bi bi-info-circle me-1"></i>
                            <span id="installmentsCount">{{ installments|length }}</span> installment(s) found
                        </div>
                        <div class="d-flex align-items-center gap-3">
                            <div class="d-flex align-items-center gap-2">
                                <label for="pageSizeSelector" class="form-label mb-0 text-muted small">Show:</label>
                                <select class="form-select form-select-sm" id="pageSizeSelector" style="width: auto;">
                                    <option value="10">10</option>
                                    <option value="20">20</option>
                                    <option value="30">30</option>
                                    <option value="50">50</option>
                                    <option value="100">100</option>
                                </select>
                                <span class="text-muted small">per page</span>
                            </div>
                            <button class="btn btn-success btn-sm shadow-sm" id="exportData">
                                <i class="bi bi-download me-1"></i> Export Data
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Installments Table -->
    <div class="card border-0 shadow-sm">
        <div class="card-body p-0">
            <div class="table-responsive">
                <table class="table table-hover table-striped mb-0 table-sm" id="installmentsTable" style="font-size: 0.9rem;">
                    <thead class="table-primary">
                        <tr>
                            <th scope="col" style="width: 8%;">
                                <a href="#" class="text-dark text-decoration-none fw-bold">
                                    ID
                                    <i class="bi bi-arrow-up ms-1"></i>
                                </a>
                            </th>
                            <th scope="col" style="width: 18%;">
                                <a href="#" class="text-dark text-decoration-none fw-bold">
                                    Land Details
                                    <i class="bi bi-arrow-up ms-1"></i>
                                </a>
                            </th>
                            <th scope="col" style="width: 15%;">
                                <a href="#" class="text-dark text-decoration-none fw-bold">
                                    Client
                                    <i class="bi bi-arrow-up ms-1"></i>
                                </a>
                            </th>
                            <th scope="col" style="width: 8%;">
                                <a href="#" class="text-dark text-decoration-none fw-bold">
                                    %
                                    <i class="bi bi-arrow-up ms-1"></i>
                                </a>
                            </th>
                            <th scope="col" style="width: 12%;">
                                <a href="#" class="text-dark text-decoration-none fw-bold">
                                    Due Date
                                    <i class="bi bi-arrow-up ms-1"></i>
                                </a>
                            </th>
                            <th scope="col" style="width: 10%;">
                                <a href="#" class="text-dark text-decoration-none fw-bold">
                                    Type
                                    <i class="bi bi-arrow-up ms-1"></i>
                                </a>
                            </th>
                            <th scope="col" style="width: 10%;">
                                <a href="#" class="text-dark text-decoration-none fw-bold">
                                    Status
                                    <i class="bi bi-arrow-up ms-1"></i>
                                </a>
                            </th>
                            <th scope="col" style="width: 12%;">
                                <a href="#" class="text-dark text-decoration-none fw-bold">
                                    Employee
                                    <i class="bi bi-arrow-up ms-1"></i>
                                </a>
                            </th>
                            <th scope="col" class="text-dark fw-bold" style="width: 7%;">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="installmentsTableBody">
                        {% for installment in installments %}
                        <tr data-installment-id="{{ installment.id }}">
                            <td>{{ installment.id }}</td>
                            <td>
                                <div>
                                    <strong style="color: #333; font-size: 0.9rem;">{{ installment.land_sale.land.name }}</strong><br>
                                    <small style="color: #6c757d; font-size: 0.8rem;">
                                        {{ installment.land_sale.land.village.name }}, {{ installment.land_sale.land.taluka.name }}
                                    </small>
                                </div>
                            </td>
                            <td>
                                <div class="text-truncate">
                                    <strong>{{ installment.land_sale.client.client_name }}</strong><br>
                                    <small class="text-muted">{{ installment.land_sale.client.phone }}</small>
                                </div>
                            </td>
                            <td>
                                <span class="fw-bold text-primary">{{ installment.percentage }}%</span>
                            </td>
                            <td>
                                <span class="{% if installment.status == 'pending' and installment.due_date < today %}text-danger fw-bold{% endif %}">
                                    {{ installment.due_date|date:'d M Y' }}
                                </span>
                            </td>
                            <td>
                                <span class="badge bg-info">{{ installment.get_payment_type_display }}</span>
                            </td>
                            <td>
                                {% if installment.status == 'pending' and installment.due_date < today %}
                                    <span class="badge bg-danger">
                                        <i class="bi bi-exclamation-triangle me-1"></i>Overdue
                                    </span>
                                {% elif installment.status == 'pending' %}
                                    <span class="badge bg-warning">Pending</span>
                                {% elif installment.status == 'paid' %}
                                    <span class="badge bg-success">Paid</span>
                                {% endif %}
                            </td>
                            <td>
                                <div class="text-truncate" style="max-width: 120px;">
                                    <strong style="font-size: 0.85rem;">{{ installment.land_sale.marketing_employee.full_name }}</strong>
                                </div>
                            </td>
                            <td>
                                {% if installment.status == 'paid' %}
                                    <!-- Only show View Details button for paid installments -->
                                    <button class="btn btn-info btn-sm" 
                                            data-action="view" data-installment-id="{{ installment.id }}"
                                            title="View Details"
                                            style="background-color: #17a2b8; border-color: #17a2b8; color: white; padding: 0.25rem 0.5rem;">
                                        <i class="bi bi-eye"></i> View Details
                                    </button>
                                {% else %}
                                    <!-- Show all action buttons for pending installments -->
                                    <div class="btn-group btn-group-sm" role="group">
                                        <button class="btn btn-primary btn-sm" 
                                                data-action="process-payment" data-installment-id="{{ installment.id }}"
                                                title="Process Payment"
                                                style="background-color: #007bff; border-color: #007bff; color: white; padding: 0.25rem 0.5rem; margin-right: 2px;">
                                            <i class="bi bi-credit-card"></i>
                                        </button>
                                        <button class="btn btn-pay btn-sm" 
                                                data-action="pay" data-installment-id="{{ installment.id }}"
                                                title="Mark as Paid"
                                                style="background-color: #28a745; border-color: #28a745; color: white; padding: 0.25rem 0.5rem;">
                                            <i class="bi bi-check-circle"></i>
                                        </button>
                                        <button class="btn btn-reminder btn-sm" 
                                                data-action="reminder" data-installment-id="{{ installment.id }}"
                                                title="Send Reminder"
                                                style="background-color: #ffc107; border-color: #ffc107; color: #212529; padding: 0.25rem 0.5rem;">
                                            <i class="bi bi-bell"></i>
                                        </button>
                                    </div>
                                {% endif %}
                            </td>
                        </tr>
                        {% empty %}
                        <tr>
                            <td colspan="9" class="text-center py-4">
                                <div class="empty-state">
                                    <i class="bi bi-cash-coin fa-3x text-muted mb-3"></i>
                                    <h5>No installments found</h5>
                                    <p class="text-muted">There are no installments to display.</p>
                                </div>
                            </td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
    
    <!-- Pagination -->
    <div class="d-flex justify-content-center mt-4">
        <nav aria-label="Installments pagination">
            <ul class="pagination pagination-sm" id="pagination">
                <!-- Pagination will be generated dynamically -->
            </ul>
        </nav>
    </div>
</div>

<!-- Payment Details Modal -->
<div class="modal fade" id="paymentDetailsModal" tabindex="-1" aria-labelledby="paymentDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title" id="paymentDetailsModalLabel">
                    <i class="bi bi-receipt me-2"></i>Payment Details - Installment <span id="installmentNumber">1</span>
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="paymentDetailsModalBody">
                <!-- Payment details will be loaded here -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Installment Details Modal -->
<div class="modal fade" id="installmentDetailsModal" tabindex="-1" aria-labelledby="installmentDetailsModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="installmentDetailsModalLabel">
                    <i class="bi bi-info-circle me-2"></i>Installment Details
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body" id="installmentDetailsModalBody">
                <!-- Installment details will be loaded here -->
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
            </div>
        </div>
    </div>
</div>

<!-- Mark as Paid Modal -->
<div class="modal fade" id="processPaymentModal" tabindex="-1" aria-labelledby="processPaymentModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-success text-white">
                <h5 class="modal-title" id="processPaymentModalLabel">
                    <i class="bi bi-check-circle me-2"></i>Mark as Paid
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form id="processPaymentForm">
                <div class="modal-body">
                    <input type="hidden" id="paymentInstallmentId">
                    
                    <!-- Remark Field -->
                    <div class="mb-3">
                        <label for="paymentRemark" class="form-label">Remark <span class="text-danger">*</span></label>
                        <textarea class="form-control" id="paymentRemark" rows="4" placeholder="Enter remarks for marking this installment as paid..." required></textarea>
                        <div class="form-text">Please provide details about the payment received</div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-success">
                        <i class="bi bi-check-circle me-2"></i>Mark as Paid
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>



<!-- Process Payment Modal -->
<div class="modal fade" id="processPaymentModalNew" tabindex="-1" aria-labelledby="processPaymentModalNewLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-primary text-white">
                <h5 class="modal-title" id="processPaymentModalNewLabel">
                    <i class="bi bi-credit-card me-2"></i>Process Payment
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form id="processPaymentFormNew" enctype="multipart/form-data">
                    <input type="hidden" id="processPaymentInstallmentId">
                    
                    <!-- Installment Info Display -->
                    <div class="alert alert-info mb-4">
                        <h6 class="alert-heading mb-2">
                            <i class="bi bi-info-circle me-2"></i>Installment Information
                        </h6>
                        <div class="row">
                            <div class="col-md-6">
                                <p class="mb-1"><strong>Land:</strong> <span id="processPaymentLandName">-</span></p>
                                <p class="mb-1"><strong>Client:</strong> <span id="processPaymentClientName">-</span></p>
                            </div>
                            <div class="col-md-6">
                                <p class="mb-1"><strong>Percentage:</strong> <span id="processPaymentPercentage">-</span>%</p>
                                <p class="mb-1"><strong>Due Date:</strong> <span id="processPaymentDueDate">-</span></p>
                            </div>
                        </div>
                    </div>

                    <!-- Payment Date Field -->
                    <div class="mb-3">
                        <label for="processPaymentDate" class="form-label">Payment Date <span class="text-danger">*</span></label>
                        <input type="date" class="form-control" id="processPaymentDate" required>
                        <div class="form-text">Date when the payment was received</div>
                    </div>
                    
                    <!-- RTGS Number Field -->
                    <div class="mb-3">
                        <label for="processRtgsNumber" class="form-label">RTGS Number</label>
                        <input type="text" class="form-control" id="processRtgsNumber" placeholder="Enter RTGS number">
                        <div class="form-text">Real Time Gross Settlement number if applicable</div>
                    </div>
                    
                    <!-- From Bank Field -->
                    <div class="mb-3">
                        <label for="processFromBank" class="form-label">From Bank</label>
                        <input type="text" class="form-control" id="processFromBank" placeholder="Enter sender bank name">
                        <div class="form-text">Bank from which payment was sent</div>
                    </div>
                    
                    <!-- UTR Reference Number Field -->
                    <div class="mb-3">
                        <label for="processUtrReference" class="form-label">UTR Reference Number</label>
                        <input type="text" class="form-control" id="processUtrReference" placeholder="Enter UTR reference number">
                        <div class="form-text">Unique Transaction Reference number</div>
                    </div>
                    
                    <!-- IFSC Code Field -->
                    <div class="mb-3">
                        <label for="processIfscCode" class="form-label">IFSC Code</label>
                        <input type="text" class="form-control" id="processIfscCode" placeholder="Enter IFSC code" maxlength="11">
                        <div class="form-text">Indian Financial System Code</div>
                    </div>
                    
                    <!-- Bank Name Field -->
                    <div class="mb-3">
                        <label for="processBankName" class="form-label">Bank Name</label>
                        <input type="text" class="form-control" id="processBankName" placeholder="Enter bank name">
                        <div class="form-text">Name of the receiving bank</div>
                    </div>
                    
                    <!-- Payment Photo Upload Field -->
                    <div class="mb-3">
                        <label for="processPaymentPhoto" class="form-label">Payment Photo Upload</label>
                        <input type="file" class="form-control" id="processPaymentPhoto" accept="image/*" onchange="previewPaymentPhoto(this)">
                        <div class="form-text">Upload a clear photo of the payment receipt/cheque (JPG, PNG, GIF)</div>
                        <div id="processPaymentPhotoPreview" class="mt-2" style="display: none;">
                            <img id="processPreviewImage" src="" alt="Payment Preview" class="img-thumbnail" style="max-width: 200px; max-height: 150px;">
                            <button type="button" class="btn btn-sm btn-outline-danger ms-2" onclick="removePaymentPhoto()">Remove</button>
                        </div>
                    </div>
                    
                    <!-- Remark Field -->
                    <div class="mb-3">
                        <label for="processPaymentRemark" class="form-label">Payment Remarks <span class="text-danger">*</span></label>
                        <textarea class="form-control" id="processPaymentRemark" rows="4" placeholder="Enter detailed payment processing remarks..." required></textarea>
                        <div class="form-text">Provide comprehensive details about the payment received</div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary" onclick="submitProcessPayment()">
                    <i class="bi bi-credit-card me-2"></i>Process Payment
                </button>
            </div>
        </div>
    </div>
</div>

<!-- Reminder Modal -->
<div class="modal fade" id="reminderModal" tabindex="-1" aria-labelledby="reminderModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-warning text-dark">
                <h5 class="modal-title" id="reminderModalLabel">
                    <i class="bi bi-bell me-2"></i>Create Reminder
                </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form id="reminderForm">
                <div class="modal-body">
                    <input type="hidden" id="reminderInstallmentId">
                    
                    <!-- Title -->
                    <div class="mb-3">
                        <label for="reminderTitle" class="form-label">Title <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" id="reminderTitle" placeholder="Enter reminder title" required>
                    </div>
                    
                    <!-- Description -->
                    <div class="mb-3">
                        <label for="reminderDescription" class="form-label">Description <span class="text-danger">*</span></label>
                        <textarea class="form-control" id="reminderDescription" rows="4" placeholder="Enter reminder description..." required></textarea>
                    </div>
                    
                    <!-- Reminder Time -->
                    <div class="mb-3">
                        <label for="reminderTime" class="form-label">Reminder Time <span class="text-danger">*</span></label>
                        <input type="datetime-local" class="form-control" id="reminderTime" required>
                    </div>
                    
                    <!-- Priority -->
                    <div class="mb-3">
                        <label for="reminderPriority" class="form-label">Priority</label>
                        <select class="form-select" id="reminderPriority">
                            <option value="low">Low</option>
                            <option value="medium" selected>Medium</option>
                            <option value="high">High</option>
                            <option value="urgent">Urgent</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                    <button type="submit" class="btn btn-warning">
                        <i class="bi bi-bell me-2"></i>Create Reminder
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

{% endblock %}

{% block extra_js %}
<script src="{% static 'js/land_installments.js' %}"></script>
{% endblock %}
